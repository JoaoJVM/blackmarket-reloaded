define(["angular"],function(){var achievements={actions:{list:new Array,complete:new Array},create:function(e,t,i,s,a,n,c,o,l,h){this.name=e,this.type=t,this.desc=i,this.desc2=s,this.part=a,this.reqName=n,this.reqValue=c,this.changeName=o,this.changeValue=l,this.rep=h},getCurrent:function(e,t){var i;switch(e){case 0:for(var s=0;s<this.actions.list.length;s++)this.actions.complete[s]||this.actions.list[s].type!=t||(i=s,s=this.actions.list.length);break;case 1:}return i},isComplete:function(e,t){var i=window.game.achievements[t].list[e].reqValue,s=window.game.achievements[t].list[e].reqName,a=s.substring(s.indexOf("[")+1,s.indexOf("]")),n=window.game[t][s.substring(0,s.indexOf("["))][a];return n>=i},achieve:function(index,part){var changeValue=window.game.achievements[part].list[index].changeValue,changeName=window.game.achievements[part].list[index].changeName;if(""!==changeName){var changeNameIndex=changeName.substring(changeName.indexOf("[")+1,changeName.indexOf("]")),actual=window.game[part][changeName.substring(0,changeName.indexOf("["))][changeNameIndex];window.game[part][changeName.substring(0,changeName.indexOf("["))][changeNameIndex]=eval(actual+changeValue)}this.display(),game.collections.getItemDroppedByChance(),game.animateMenu("achievements");var name=window.game.achievements[part].list[index].name,effect=window.game.achievements[part].list[index].desc2;notify.pop("success","Achievement earned : "+name+"<br>"+effect)},countCompleted:function(e){var t=0;switch(e){case 0:for(var i=0;i<this.actions.complete.length;i++)this.actions.complete[i]&&t++;break;case 1:}return t},loop:function(e){for(var t=0;t<this.actions.list.length;t++)e===!0?game.achievements.isComplete(t,"actions")&&(this.actions.complete[t]=!0):game.achievements.isComplete(t,"actions")&&!this.actions.complete[t]&&(game.achievements.achieve(t,"actions"),this.actions.complete[t]=!0);this.display()},display:function(){for(var e=0;e<game.actions.list.length;e++){var t=this.getCurrent(0,e),i=this.countCompleted(0),s=this.actions.list.length;if("undefined"!=typeof this.actions.list[t]){var a={name:this.actions.list[t].name,desc:this.actions.list[t].desc,desc2:this.actions.list[t].desc2};$("#achievements-actions-"+(e+1)).html("<b>"+a.name+":</b><span>"+a.desc+"</span><br>"+a.desc2)}else $("#achievements-actions-"+(e+1)).html("<b>All available achievements earned!</b>");$("#achievements-actions-total").html("("+i+"/"+s+")"),$("#achievements-progress").css({width:Math.round(i/s*100,0)+"%"}),$("#achievements-progress-info").html(Math.round(i/s*100,0)+"%")}},createAchievements:function(e,t,i,s,a){return a=a+(200-a)+50*a,e=e+" "+helper.getRomanNumerals(a/50+4),desc=i+" at level "+a,reqName="owned["+s+"]",200===a||300===a||400===a?(desc2=i+" speed x2",multiType="timeMultiplier["+s+"]",multi="*2"):a%100==0?(desc2=i+" reward x2",multiType="rewardMultiplier["+s+"]",multi="*3"):(desc2="Chance of getting item",multiType="",multi=""),new this.create(e,s,desc,desc2,t,reqName,a,multiType,multi,0)},varInit:function(){for(this.actions.list=[new this.create("Shooter I",0,"Shooting at level 25","Shooting speed x2","actions","owned[0]",25,"timeMultiplier[0]","*2",10),new this.create("Shooter II",0,"Shooting at level 50","Shooting speed x2","actions","owned[0]",50,"timeMultiplier[0]","*2",20),new this.create("Shooter III",0,"Shooting at level 75","Chance of getting item","actions","owned[0]",75,"","",0),new this.create("Shooter IV",0,"Shooting at level 100","Shooting speed x2","actions","owned[0]",100,"timeMultiplier[0]","*2",30),new this.create("Shooter V",0,"Shooting at level 125","Chance of getting item","actions","owned[0]",125,"","",0),new this.create("Shooter VI",0,"Shooting at level 150","Chance of getting item","actions","owned[0]",150,"","",0),new this.create("Shooter VII",0,"Shooting at level 175","Chance of getting item","actions","owned[0]",175,"","",0)],e=1;20>e;e++)this.actions.list.push(this.createAchievements("Shooter","actions","Shooting",0,e));for(this.actions.list.push(new this.create("Fighter I",1,"Street fight at level 25","Street fight speed x2","actions","owned[1]",25,"timeMultiplier[1]","*2",15)),this.actions.list.push(new this.create("Fighter II",1,"Street fight at level 50","Street fight speed x2","actions","owned[1]",50,"timeMultiplier[1]","*2",25)),this.actions.list.push(new this.create("Fighter III",1,"Street at level 75","Chance of getting item","actions","owned[1]",75,"","",0)),this.actions.list.push(new this.create("Fighter IV",1,"Street fight at level 100","Street fight speed x2","actions","owned[1]",100,"timeMultiplier[1]","*2",35)),this.actions.list.push(new this.create("Fighter V",1,"Street fight at level 125","Chance of getting item","actions","owned[1]",125,"","",0)),this.actions.list.push(new this.create("Fighter VI",1,"Street fight at level 150","Chance of getting item","actions","owned[1]",150,"","",0)),this.actions.list.push(new this.create("Fighter VII",1,"Street fight at level 175","Chance of getting item","actions","owned[1]",175,"","",0)),e=1;20>e;e++)this.actions.list.push(this.createAchievements("Fighter","actions","Street fight",1,e));for(this.actions.list.push(new this.create("Pickpocket I",2,"Pickpocket at level 25","Pickpocket speed x2","actions","owned[2]",25,"timeMultiplier[2]","*2",20)),this.actions.list.push(new this.create("Pickpocket II",2,"Pickpocket at level 50","Pickpocket speed x2","actions","owned[2]",50,"timeMultiplier[2]","*2",30)),this.actions.list.push(new this.create("Pickpocket III",2,"Pickpocket at level 75","Chance of getting item","actions","owned[2]",75,"","",0)),this.actions.list.push(new this.create("Pickpocket IV",2,"Pickpocket at level 100","Pickpocket speed x2","actions","owned[2]",100,"timeMultiplier[2]","*2",40)),this.actions.list.push(new this.create("Pickpocket V",2,"Pickpocket at level 125","Chance of getting item","actions","owned[2]",125,"","",0)),this.actions.list.push(new this.create("Pickpocket VI",2,"Pickpocket at level 150","Chance of getting item","actions","owned[2]",150,"","",0)),this.actions.list.push(new this.create("Pickpocket VII",2,"Pickpocket at level 175","Chance of getting item","actions","owned[2]",175,"","",0)),e=1;20>e;e++)this.actions.list.push(this.createAchievements("Pickpocket","actions","Pickpocket",2,e));for(this.actions.list.push(new this.create("Scammer I",3,"Scam at level 25","Scam speed x2","actions","owned[3]",25,"timeMultiplier[3]","*2",25)),this.actions.list.push(new this.create("Scammer II",3,"Scam at level 50","Scam speed x2","actions","owned[3]",50,"timeMultiplier[3]","*2",35)),this.actions.list.push(new this.create("Scammer III",3,"Scam at level 75","Chance of getting item","actions","owned[3]",75,"","",0)),this.actions.list.push(new this.create("Scammer IV",3,"Scam at level 100","Scam speed x2","actions","owned[3]",100,"timeMultiplier[3]","*2",45)),this.actions.list.push(new this.create("Scammer V",3,"Scam at level 125","Chance of getting item","actions","owned[3]",125,"","",0)),this.actions.list.push(new this.create("Scammer VI",3,"Scam at level 150","Chance of getting item","actions","owned[3]",150,"","",0)),this.actions.list.push(new this.create("Scammer VII",3,"Scam at level 175","Chance of getting item","actions","owned[3]",175,"","",0)),e=1;20>e;e++)this.actions.list.push(this.createAchievements("Scammer","actions","Scam",3,e));for(this.actions.list.push(new this.create("Car dealer I",4,"Steal car at level 25","Steal car speed x2","actions","owned[4]",25,"timeMultiplier[4]","*2",30)),this.actions.list.push(new this.create("Car dealer II",4,"Steal car at level 50","Steal car speed x2","actions","owned[4]",50,"timeMultiplier[4]","*2",40)),this.actions.list.push(new this.create("Car dealer III",4,"Steal car at level 75","Chance of getting item","actions","owned[4]",75,"","",0)),this.actions.list.push(new this.create("Car dealer IV",4,"Steal car at level 100","Steal car speed x2","actions","owned[4]",100,"timeMultiplier[4]","*2",50)),this.actions.list.push(new this.create("Car dealer V",4,"Steal car at level 125","Chance of getting item","actions","owned[4]",125,"","",0)),this.actions.list.push(new this.create("Car dealer VI",4,"Steal car at level 150","Chance of getting item","actions","owned[4]",150,"","",0)),this.actions.list.push(new this.create("Car dealer VII",4,"Steal car at level 175","Chance of getting item","actions","owned[4]",175,"","",0)),e=1;20>e;e++)this.actions.list.push(this.createAchievements("Car dealer","actions","Steal car",4,e));for(this.actions.list.push(new this.create("Robber I",5,"Jewelry robbery at level 25","Jewelry robbery speed x2","actions","owned[5]",25,"timeMultiplier[5]","*2",35)),this.actions.list.push(new this.create("Robber II",5,"Jewelry robbery at level 50","Jewelry robbery speed x2","actions","owned[5]",50,"timeMultiplier[5]","*2",45)),this.actions.list.push(new this.create("Robber III",5,"Jewelry robbery at level 75","Chance of getting item","actions","owned[5]",75,"","",0)),this.actions.list.push(new this.create("Robber IV",5,"Jewelry robbery at level 100","Jewelry robbery speed x2","actions","owned[5]",100,"timeMultiplier[5]","*2",55)),this.actions.list.push(new this.create("Robber V",5,"Jewelry robbery at level 125","Chance of getting item","actions","owned[5]",125,"","",0)),this.actions.list.push(new this.create("Robber VI",5,"Jewelry robbery at level 150","Chance of getting item","actions","owned[5]",150,"","",0)),this.actions.list.push(new this.create("Robber VII",5,"Jewelry robbery at level 175","Chance of getting item","actions","owned[5]",175,"","",0)),e=1;20>e;e++)this.actions.list.push(this.createAchievements("Robber","actions","Jewelry robbery",5,e));for(this.actions.list.push(new this.create("Hacker I",6,"Hacking at level 25","Hacking speed x2","actions","owned[6]",25,"timeMultiplier[6]","*2",40)),this.actions.list.push(new this.create("Hacker II",6,"Hacking at level 50","Hacking speed x2","actions","owned[6]",50,"timeMultiplier[6]","*2",50)),this.actions.list.push(new this.create("Hacker III",6,"Hacking at level 75","Chance of getting item","actions","owned[6]",75,"","",0)),this.actions.list.push(new this.create("Hacker IV",6,"Hacking at level 100","Hacking speed x2","actions","owned[6]",100,"timeMultiplier[6]","*2",60)),this.actions.list.push(new this.create("Hacker V",6,"Hacking at level 125","Chance of getting item","actions","owned[6]",125,"","",0)),this.actions.list.push(new this.create("Hacker VI",6,"Hacking at level 150","Chance of getting item","actions","owned[6]",150,"","",0)),this.actions.list.push(new this.create("Hacker VII",6,"Hacking at level 175","Chance of getting item","actions","owned[6]",175,"","",0)),e=1;20>e;e++)this.actions.list.push(this.createAchievements("Hacker","actions","Hacking",6,e));for(this.actions.list.push(new this.create("Arms dealers I",7,"Arms sales at level 25","Arms sales speed x2","actions","owned[7]",25,"timeMultiplier[7]","*2",45)),this.actions.list.push(new this.create("Arms dealers II",7,"Arms sales at level 50","Arms sales speed x2","actions","owned[7]",50,"timeMultiplier[7]","*2",55)),this.actions.list.push(new this.create("Arms dealers III",7,"Arms sales at level 75","Chance of getting item","actions","owned[7]",75,"","",0)),this.actions.list.push(new this.create("Arms dealers IV",7,"Arms sales at level 100","Arms sales speed x2","actions","owned[7]",100,"timeMultiplier[7]","*2",65)),this.actions.list.push(new this.create("Arms dealers V",7,"Arms sales at level 125","Chance of getting item","actions","owned[7]",125,"","",0)),this.actions.list.push(new this.create("Arms dealers VI",7,"Arms sales at level 150","Chance of getting item","actions","owned[7]",150,"","",0)),this.actions.list.push(new this.create("Arms dealers VII",7,"Arms sales at level 175","Chance of getting item","actions","owned[7]",175,"","",0)),e=1;20>e;e++)this.actions.list.push(this.createAchievements("Arms dealers","actions","Arms sales",7,e));for(this.actions.list.push(new this.create("Drugs sales I",8,"Drugs sales at level 25","Drugs sales speed x2","actions","owned[8]",25,"timeMultiplier[8]","*2",50)),this.actions.list.push(new this.create("Drugs sales II",8,"Drugs sales at level 50","Drugs sales speed x2","actions","owned[8]",50,"timeMultiplier[8]","*2",60)),this.actions.list.push(new this.create("Drugs sales III",8,"Drugs sales at level 75","Chance of getting item","actions","owned[8]",75,"","",0)),this.actions.list.push(new this.create("Drugs sales IV",8,"Drugs sales at level 100","Drugs sales speed x2","actions","owned[8]",100,"timeMultiplier[8]","*2",70)),this.actions.list.push(new this.create("Drugs sales V",8,"Drugs sales at level 125","Chance of getting item","actions","owned[8]",125,"","",0)),this.actions.list.push(new this.create("Drugs sales VI",8,"Drugs sales at level 150","Chance of getting item","actions","owned[8]",150,"","",0)),this.actions.list.push(new this.create("Drugs sales VII",8,"Drugs sales at level 175","Chance of getting item","actions","owned[8]",175,"","",0)),e=1;20>e;e++)this.actions.list.push(this.createAchievements("Drugs sales","actions","Drugs sales",8,e));for(var e=0;e<this.actions.list.length;e++)this.actions.complete.push(!1)},domInit:function(){for(var e=$("body").height(),t=0;t<game.actions.list.length;t++)$("#achievements-actions").append('<li id="achievements-actions-'+(t+1)+'" class="list-group-item achievement"></li>');$("#achievements-actions").css({"max-height":e-200+"px","overflow-y":"auto"}),this.loop(!0),this.display()},angularInit:function(){this.domInit()},init:function(){this.varInit(),window.game.achievements=this,log("Achievements init.")}};return achievements.init()});